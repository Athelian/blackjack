(this.webpackJsonpblackjack=this.webpackJsonpblackjack||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(9),r=n.n(a),u=(n(15),n(3)),s=n.n(u),i=n(5),o=n(10),f=n(2),l=(n(17),n(8)),b=n(1);var j=function(){var e=Object(b.jsx)("div",{id:"container"}),t=Object(c.useState)(!1),n=Object(f.a)(t,2),a=n[0],r=n[1],u=Object(c.useState)([]),j=Object(f.a)(u,2),h=j[0],d=j[1],O=Object(c.useState)(!1),p=Object(f.a)(O,2),m=p[0],v=p[1],k=Object(c.useState)(!1),E=Object(f.a)(k,2),g=E[0],x=E[1],w=Object(c.useState)([]),M=Object(f.a)(w,2),S=M[0],y=M[1],T=Object(c.useState)([]),W=Object(f.a)(T,2),D=W[0],I=W[1],N=Object(c.useState)(0),P=Object(f.a)(N,2),B=P[0],A=P[1],F=Object(c.useState)(0),H=Object(f.a)(F,2),J=H[0],U=H[1],q=Object(c.useState)(),C=Object(f.a)(q,2),G=C[0],L=C[1],z=Object(c.useState)(),K=Object(f.a)(z,2),Q=K[0],R=K[1],V=Object(c.useState)({games:0,dealerWins:0,playerWins:0,ties:0}),X=Object(f.a)(V,2),Y=X[0],Z=X[1],$=Object(c.useState)(!1),_=Object(f.a)($,2),ee=_[0],te=_[1];Object(c.useEffect)((function(){d(Object(l.a)()),v(!0)}),[]),Object(c.useEffect)((function(){if(m){var e=document.getElementById("container"),t=document.getElementsByClassName("deck");h.mount(e);var n=[];!function(){for(var t=0;t<4;t++){var c=Object(l.a)(!0);c.cards.forEach((function(e){return e.unmount()})),c.cards.splice(0,52),c.mount(e),n.push(c)}}(),setTimeout((function(){h.sort(),setTimeout((function(){h.fan(),setTimeout((function(){n.forEach((function(t){return t.cards.forEach((function(t){return t.mount(e)}))}))}),3e3)}),1e3)}),1e3);for(var c=[],a=.1,u=13,s=2*Math.PI/u,i=1;i<=u;i++){var o=a*Math.cos(s*i)+.25,f=a*Math.sin(s*i)*1.5;c.push([o,f])}for(var b=0;b<7;b++)c.push([.45,0+.06*b]);a=.1,u=11,s=2*Math.PI/u;for(var j=0;j<=10;j++)if(!(j>2&&j<8)){var d=1*(a*Math.cos(s*j)+.5),O=1.5*(a*Math.sin(s*j)+0);c.push([d,O])}for(var p=0;p<13;p++)c.push([.7,.042*p-.32]);a=.1,u=24,s=2*Math.PI/u;for(var v=0;v<=12;v++){var k=.8*(a*Math.cos(s*v)+1.09),E=2.5*(a*Math.sin(s*v)-.045);c.push([k,E])}a=.1,s=2*Math.PI/17;for(var g=1;g<=15;g++){if(g<=4){var x=.8*(a*Math.cos(s*g*1.1)+1.3),w=1.5*(a*Math.sin(s*g)+.005);c.push([x,w])}if(g>=5&&g<=12){var M=.8*(a*Math.cos(s*g*1.1)+1.4),S=1.5*(a*Math.sin(s*g)-.045);c.push([M,S])}}var y=.53*window.innerWidth,T=.8*window.innerHeight,W=function(e,t){e.setSide("front"),e.enableFlipping(),e.enableDragging(),e.animateTo({delay:5e3,duration:500,ease:"quartOut",x:1200*c[t][0]-y,y:c[t][1]*T})};h.cards.forEach((function(e,t){W(e,t)})),n.forEach((function(e,t){e.cards.forEach((function(e,n){W(e,3*t+n+52)}))})),setTimeout((function(){h.shuffle(),n.forEach((function(e){return e.shuffle()})),setTimeout((function(){n.forEach((function(e){return e.cards.forEach((function(e){return e.unmount()}))})),h.flip(),t[0].style.position="absolute",t[0].style.transition="left 1s",t[0].style.left="0",setTimeout((function(){t[0].style.left="343px",h.cards.forEach((function(e){e.setSide("back"),e.disableFlipping(),e.disableDragging()})),setTimeout((function(){r(!0),te(!0)}),500)}),500)}),1e3)}),7e3)}}),[m]),Object(c.useEffect)((function(){a&&h.blackjack.open((function(e){h.blackjack.open((function(t){I((function(e){return e.concat(t)})),y((function(t){return t.concat(e)})),L(!0)}),!1)}),!0)}),[a]),Object(c.useEffect)((function(){if(G)return G&&21===B?setTimeout((function(){return ae("win")})):void 0}),[G]);var ne=function(e){for(var t=0,n=e.reduce((function(e,n){return 1===n.rank?(t++,++e):n.rank>10?e+10:e+n.rank}),0);t&&n+10<=21;)n+=10,t--;return n};Object(c.useEffect)((function(){if(Q)return J>=17?21===J?ae("lose"):J===B?ae():ae(J<B?"win":"lose"):void setTimeout((function(){return h.blackjack.hit(I,!1,D)}),2e3)}),[Q]),Object(c.useEffect)((function(){return S.length?A(ne(S)):null}),[S]),Object(c.useEffect)((function(){return D.length?U(ne(D)):null}),[D]),Object(c.useEffect)((function(){return B?B>21?ae("lose"):21===B?ae("win"):null:null}),[B]),Object(c.useEffect)((function(){if(Q)return J>21?ae("win"):21===J?ae("lose"):J<17?setTimeout((function(){return h.blackjack.hit(I,!1,D)}),2e3):J===B?ae():ae(J<B?"win":"lose")}),[J]);var ce,ae=function(e){y([]),I([]),L(!1),R(!1),A(0),U(0),r(!1),setTimeout((function(){h.cards=h.cards.concat(S).concat(D),h.cards.forEach((function(e){return e.setSide("back")})),d(h),x(!0),Z((function(t){return t.games++,t["win"===e?"playerWins":"lose"===e?"dealerWins":"ties"]++,Object(o.a)({},t)})),setTimeout((function(){return r(!0)}),2e3)}),2e3)};Object(c.useEffect)((function(){g&&(h.shuffle(),x(!1))}),[g]);var re=function(){return ce=Date.now()},ue=function(){return Date.now()-ce>200};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)("link",{rel:"stylesheet",href:"https://deck-of-cards.js.org/example.css"})}),ee?Object(b.jsxs)("div",{id:"scoreboard",children:[Object(b.jsxs)("div",{children:["Games: ",Y.games]}),Object(b.jsxs)("div",{children:["Wins: ",Y.playerWins]}),Object(b.jsxs)("div",{children:["Losses: ",Y.dealerWins]}),Object(b.jsxs)("div",{children:["Ties: ",Y.ties]})]}):null,G?Object(b.jsxs)("div",{id:"choice",children:[Object(b.jsx)("button",{className:"big-button",onMouseDown:function(){return re()},onMouseUp:Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue()){e.next=2;break}return e.abrupt("return",ce=null);case 2:h.blackjack.hit(y,!0,S),ce=null;case 4:case"end":return e.stop()}}),e)}))),children:Object(b.jsx)("span",{children:"Hit"})}),Object(b.jsx)("button",{className:"big-button",onMouseDown:function(){return re()},onMouseUp:function(){if(!ue())return ce=null;D.forEach((function(e,t){e.blackjack.stay((function(){return console.log("done")}),t)})),L(!1),R(!0),ce=null},children:Object(b.jsx)("span",{children:"Stay"})})]}):null,e]})};r.a.render(Object(b.jsx)(j,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.a8239a27.chunk.js.map