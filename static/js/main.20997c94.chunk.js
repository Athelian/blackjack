(this.webpackJsonpblackjack=this.webpackJsonpblackjack||[]).push([[0],{15:function(t,e,n){},17:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(9),u=n.n(a),r=(n(15),n(3)),s=n.n(r),o=n(5),i=n(10),f=n(2),l=(n(17),n(8)),b=n(1);var j=function(){var t,e=Object(b.jsx)("div",{id:"container"}),n=Object(c.useState)(!1),a=Object(f.a)(n,2),u=a[0],r=a[1],j=Object(c.useState)([]),h=Object(f.a)(j,2),d=h[0],O=h[1],p=Object(c.useState)(!1),m=Object(f.a)(p,2),v=m[0],k=m[1],E=Object(c.useState)(!1),g=Object(f.a)(E,2),x=g[0],M=g[1],w=Object(c.useState)([]),S=Object(f.a)(w,2),y=S[0],T=S[1],D=Object(c.useState)([]),I=Object(f.a)(D,2),N=I[0],P=I[1],B=Object(c.useState)(0),A=Object(f.a)(B,2),F=A[0],H=A[1],J=Object(c.useState)(0),U=Object(f.a)(J,2),W=U[0],q=U[1],C=Object(c.useState)(),G=Object(f.a)(C,2),L=G[0],z=G[1],K=Object(c.useState)(),Q=Object(f.a)(K,2),R=Q[0],V=Q[1],X=Object(c.useState)({games:0,win:0,loss:0,tie:0}),Y=Object(f.a)(X,2),Z=Y[0],$=Y[1],_=Object(c.useState)(!1),tt=Object(f.a)(_,2),et=tt[0],nt=tt[1];Object(c.useEffect)((function(){O(Object(l.a)()),k(!0)}),[]),Object(c.useEffect)((function(){if(v){var t=document.getElementById("container"),e=document.getElementsByClassName("deck");d.mount(t);var n=[];!function(){for(var e=0;e<4;e++){var c=Object(l.a)(!0);c.cards.forEach((function(t){return t.unmount()})),c.cards.splice(0,52),c.mount(t),n.push(c)}}(),setTimeout((function(){d.sort(),setTimeout((function(){d.fan(),setTimeout((function(){n.forEach((function(e){return e.cards.forEach((function(e){return e.mount(t)}))}))}),3e3)}),1e3)}),1e3);for(var c=[],a=.1,u=13,s=2*Math.PI/u,o=1;o<=u;o++){var i=a*Math.cos(s*o)+.25,f=a*Math.sin(s*o)*1.5;c.push([i,f])}for(var b=0;b<7;b++)c.push([.45,0+.06*b]);a=.1,u=11,s=2*Math.PI/u;for(var j=0;j<=10;j++)if(!(j>2&&j<8)){var h=1*(a*Math.cos(s*j)+.5),O=1.5*(a*Math.sin(s*j)+0);c.push([h,O])}for(var p=0;p<13;p++)c.push([.7,.042*p-.32]);a=.1,u=24,s=2*Math.PI/u;for(var m=0;m<=12;m++){var k=.8*(a*Math.cos(s*m)+1.09),E=2.5*(a*Math.sin(s*m)-.045);c.push([k,E])}a=.1,s=2*Math.PI/17;for(var g=1;g<=15;g++){if(g<=4){var x=.8*(a*Math.cos(s*g*1.1)+1.3),M=1.5*(a*Math.sin(s*g)+.005);c.push([x,M])}if(g>=5&&g<=12){var w=.8*(a*Math.cos(s*g*1.1)+1.4),S=1.5*(a*Math.sin(s*g)-.045);c.push([w,S])}}var y=.53*window.innerWidth,T=.8*window.innerHeight,D=function(t,e){t.setSide("front"),t.enableFlipping(),t.enableDragging(),t.animateTo({delay:5e3,duration:500,ease:"quartOut",x:1200*c[e][0]-y,y:c[e][1]*T})};d.cards.forEach((function(t,e){D(t,e)})),n.forEach((function(t,e){t.cards.forEach((function(t,n){D(t,3*e+n+52)}))})),setTimeout((function(){d.shuffle(),n.forEach((function(t){return t.shuffle()})),setTimeout((function(){n.forEach((function(t){return t.cards.forEach((function(t){return t.unmount()}))})),d.flip(),e[0].style.position="absolute",e[0].style.transition="left 1s",e[0].style.left="0",setTimeout((function(){e[0].style.left="343px",d.cards.forEach((function(t){t.setSide("back"),t.disableFlipping(),t.disableDragging()})),setTimeout((function(){r(!0),nt(!0)}),500)}),500)}),1e3)}),7e3)}}),[v]),Object(c.useEffect)((function(){u&&d.blackjack.open((function(t){d.blackjack.open((function(e){P((function(t){return t.concat(e)})),T((function(e){return e.concat(t)})),z(!0)}),!1)}),!0)}),[u]),Object(c.useEffect)((function(){return at()}),[R]),Object(c.useEffect)((function(){return y.length?H(ct(y)):null}),[y]),Object(c.useEffect)((function(){return N.length?q(ct(N)):null}),[N]),Object(c.useEffect)((function(){return F?F>21?ut("loss"):21===F?ut("win"):null:null}),[F]),Object(c.useEffect)((function(){x&&(d.shuffle(),M(!1))}),[x]),Object(c.useEffect)((function(){return at()}),[W]);var ct=function(t){for(var e=0,n=t.reduce((function(t,n){return 1===n.rank?(e++,++t):n.rank>10?t+10:t+n.rank}),0);e&&n+10<=21;)n+=10,e--;return n},at=function(){return R?W>=17?ut(W>21||W<F?"win":W===F?"tie":"loss"):setTimeout((function(){return d.blackjack.hit(P,!1,N)}),2e3):null},ut=function(t){T([]),P([]),z(!1),V(!1),H(0),q(0),r(!1),setTimeout((function(){d.cards=d.cards.concat(y).concat(N),d.cards.forEach((function(t){return t.setSide("back")})),O(d),M(!0),$((function(e){return e.games++,e[t]++,Object(i.a)({},e)})),setTimeout((function(){return r(!0)}),2e3)}),2e3)},rt=function(){return t=Date.now()},st=function(){return Date.now()-t>200};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)("link",{rel:"stylesheet",href:"https://deck-of-cards.js.org/example.css"})}),et?Object(b.jsxs)("div",{id:"scoreboard",children:[Object(b.jsxs)("div",{children:["Games: ",Z.games]}),Object(b.jsxs)("div",{children:["Wins: ",Z.win]}),Object(b.jsxs)("div",{children:["Losses: ",Z.loss]}),Object(b.jsxs)("div",{children:["Ties: ",Z.tie]})]}):null,L?Object(b.jsxs)("div",{id:"choice",children:[Object(b.jsx)("button",{className:"big-button",onMouseDown:function(){return rt()},onMouseUp:Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(st()){e.next=2;break}return e.abrupt("return",t=null);case 2:d.blackjack.hit(T,!0,y),t=null;case 4:case"end":return e.stop()}}),e)}))),children:Object(b.jsx)("span",{children:"Hit"})}),Object(b.jsx)("button",{className:"big-button",onMouseDown:function(){return rt()},onMouseUp:function(){if(!st())return t=null;N.forEach((function(t,e){t.blackjack.stay(e)})),z(!1),V(!0),t=null},children:Object(b.jsx)("span",{children:"Stay"})})]}):null,e]})};u.a.render(Object(b.jsx)(j,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.20997c94.chunk.js.map